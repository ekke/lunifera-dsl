

dto Item wraps entity.Item(item) {
	inherit var id;
	inherit color as String [
		toDTO: {
			if (color == 1) {
				return "red"
			} else {
				return "undefined"
			}
		}
		
		fromDTO: {
			if (color.inner == "red"){
				return 1
			} else {
				return 0
			}
		}
	]
	
	inherit ref group;
	
	inherit details opposite;
	
	var String name;

}

dto ItemGroup wraps entity.ItemGroup {
	inherit var id;
	inherit var name name xyzname;
}

dto ItemDetails wraps entity. ItemDetails {
	id long id;
	inherit parent;
}


entity Item {
	id long id;
	var int color;
	refers ItemGroup group;
	refers cascade ItemDetails[*] details opposite parent;
}

entity ItemGroup {
	id long id;
	var String name;
	
}

entity ItemDetails {
	id long id;
	refers Item parent opposite details;
	
}